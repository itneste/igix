<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    var Ping = function (a) { this.opt = a || {}, this.favicon = this.opt.favicon || "/favicon.ico", this.timeout = this.opt.timeout || 0, this.logError = this.opt.logError || !1 }; Ping.prototype.ping = function (a, b) { function c(a) { i.wasSuccess = !0, e.call(i, a) } function d(a) { i.wasSuccess = !1, e.call(i, a) } function e() { j && clearTimeout(j); var a = new Date - k; if (b) { if ("function" == typeof b) return this.wasSuccess ? (f && g(a), b(null, a)) : (i.logError && console.error("error loading resource"), f && h(a), b("error", a)); throw new Error("Callback is not a function.") } if (f) return this.wasSuccess ? g(a) : h(a); throw new Error("Promise is not supported by your browser. Use callback instead.") } var f, g, h; "undefined" != typeof Promise && (f = new Promise(function (a, b) { g = a, h = b })); var i = this; i.wasSuccess = !1, i.img = new Image, i.img.onload = c, i.img.onerror = d; var j, k = new Date; return i.timeout && (j = setTimeout(function () { e.call(i, void 0) }, i.timeout)), i.img.src = a + i.favicon + "?" + +new Date, f }, "undefined" != typeof exports ? "undefined" != typeof module && module.exports && (module.exports = Ping) : window.Ping = Ping;

  </script>

</head>
<div id="ping-github"></div>
<script>
  var p = new Ping({
    favicon: "/media/images/logo.svg"
  });

  // Using callback
  p.ping("http://network.jiangsion.com", function (err, data) {
    // Also display error if err is returned.
    if (err) {
      console.log("error loading resource")
      data = data + " " + err;
    }
    document.getElementById("ping-github").innerHTML = data;
  });
</script>

<body>

</body>

</html>